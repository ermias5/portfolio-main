"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{2981:(e,t,a)=>{a.d(t,{A:()=>A});var l=a(5155),i=a(2115);let r=e=>{let{isOpen:t,title:a,children:i,onClose:r}=e;return t?(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:r,children:(0,l.jsxs)("div",{className:"bg-white w-full max-w-md mx-auto p-6 rounded-lg shadow-lg",onClick:e=>e.stopPropagation(),children:[a&&(0,l.jsx)("h2",{className:"text-lg font-bold mb-4",children:a}),(0,l.jsx)("div",{children:i})]})}):null};var s=a(5565);let n=e=>{let{fields:t,formData:a,onInputChange:i,onFileChange:r}=e,n="w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-500 focus:ring-opacity-50";return(0,l.jsx)("div",{className:"p-4 border border-gray-300 rounded-md bg-white space-y-3",children:t.map(e=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block space-y-2",children:[(0,l.jsx)("span",{className:"text-black",children:e.label}),"textarea"===e.type?(0,l.jsx)("textarea",{name:e.name,value:a[e.name],onChange:i,rows:e.rows,className:n}):"file"===e.type?(0,l.jsx)("input",{type:"file",name:e.name,onChange:r,className:n}):(0,l.jsx)("input",{type:e.type,name:e.name,value:a[e.name],onChange:i,className:n})]}),"file"===e.type&&a.imageUrl&&(0,l.jsx)(s.default,{src:null==a?void 0:a.imageUrl,alt:"preview",height:100,width:100,className:"mt-4 max-h-14 rounded"})]},e.name))})};var c=a(7058),o=a(1203);let d=async e=>{let{category:t,data:a}=e;try{let e=(0,c.rJ)(o.db,t);await (0,c.gS)(e,{...a,createdAt:(0,c.O5)()})&&alert("Document created to ".concat(t," category"))}catch(e){console.error("Error while creating data:",e)}};var m=a(333);let p=async(e,t,a)=>{try{if(!e||!t)throw Error("Category and docId are required to delete a document.");let l=(0,c.H9)(o.db,e,t);if(await (0,c.kd)(l),console.log("Document deleted successfully"),a){let e=(0,m.KR)(o.IG,a);await (0,m.XR)(e)}}catch(e){throw console.error("Error while deleting Firestore data or file:",e),e}};async function u(e){let{folder:t,file:a,category:l}=e,i=(0,m.c7)(),r="".concat(t,"/").concat(l,"/").concat(a.name),s=(0,m.KR)(i,r);try{let e=await (0,m.D)(s,a);return await (0,m.qk)(e.ref)}catch(e){throw console.error("Error uploading file:",e),e}}let x=async e=>{let{category:t,docId:a,data:l}=e;try{let e=(0,c.H9)(o.db,t,a);await (0,c.mZ)(e,Object.fromEntries(Object.entries(l))),alert("".concat(t," document updated successfully"))}catch(e){console.error("Error while creating data:",e)}};class g{async saveItem(e,t,a){if(e.file){let a=e.file,l=await u({folder:"uploadCV"===t?"cv":"images",file:a,category:t});e["uploadCV"===t?"cvUrl":"imageUrl"]=l,delete e.file}return a?(await x({category:t,docId:a,data:e}),{...e,id:a}):await d({data:e,category:t})}async deleteItem(e,t,a){await p(e,t,a)}}let b=new g;function h(e,t){let[a,l]=(0,i.useState)(e),[r,s]=(0,i.useState)(null),[n,c]=(0,i.useState)(null),[o,d]=(0,i.useState)(!1),[m,p]=(0,i.useState)({name:"",title:"",description:"",feedback:"",skills:"",file:null,linkUrl:""}),u=async()=>{try{let{updatedFormData:e}=function(e,t){let a="string"==typeof e.skills?e.skills.split(",").map(e=>e.trim()):e.skills,l={};switch(t){case"hero":l={description:e.description};break;case"aboutMe":l={skills:a};break;case"services":l={description:e.description,title:e.title};break;case"projects":l={description:e.description,title:e.title,skills:a};break;case"testimonials":l={title:e.title,name:e.name,feedback:e.feedback};break;case"uploadCV":l={title:e.title,name:e.name};case"socialMediaPlatforms":l={name:e.name,linkUrl:e.linkUrl}}return e.file&&(l={...l,file:e.file}),{updatedFormData:l}}(m,t),a=await b.saveItem(e,t,null==r?void 0:r.id);(null==r?void 0:r.id)?l(e=>e.map(e=>e.id===(null==a?void 0:a.id)?a:e)):l(e=>[...e,a]),x()}catch(e){console.error("Error saving item:",e)}},x=()=>{s(null),p({name:"",title:"",description:"",feedback:"",skills:"",file:null,imageUrl:"",cvUrl:"",linkUrl:""})};async function g(e){let a=e.id;try{let i="uploadCV"===t?null==e?void 0:e.cvUrl:null==e?void 0:e.imageUrl;await b.deleteItem(t,a,i),l(e=>e.filter(e=>e.id!==a))}catch(e){console.error("Error deleting item:",e)}}async function h(){if(n)try{await g(n),d(!1),c(null)}catch(e){console.error("Error deleting item",e)}}return{isConfirmingDelete:o,collectionData:a,formData:m,handleInputChange:e=>{let{name:t,value:a}=e.target;p(e=>({...e,[t]:a}))},handleFileChange:e=>{var t;let a=(null===(t=e.target.files)||void 0===t?void 0:t[0])||null;p(e=>({...e,file:a}))},saveItem:u,deleteItem:g,onDeleteConfirmation:h,cancelDelete:function(){d(!1),c(null)},onDeleteItemInitiator:function(e){c(e),d(!0)},setIsConfirmingDelete:d,startEditing:e=>{s({id:e.id,name:e.name,title:e.title,description:e.description,feedback:e.feedback,skills:e.skills,imageUrl:e.imageUrl,linkUrl:e.linkUrl}),p({id:e.id,name:e.name,title:e.title,description:e.description,feedback:e.feedback,skills:e.skills,imageUrl:e.imageUrl,linkUrl:e.linkUrl})},clearFormEntries:x}}let f={services:[{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"},{name:"imageUrl",label:"Image URL",type:"file"}],projects:[{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"},{name:"skills",label:"Skills (comma-separated)",type:"text"},{name:"imageUrl",label:"Image URL",type:"file"}],testimonials:[{name:"name",label:"Name",type:"text"},{name:"title",label:"Title",type:"text"},{name:"feedback",label:"Feedback",type:"textarea"},{name:"imageUrl",label:"Image URL",type:"file"}],hero:[{name:"description",label:"Description",type:"textarea"},{name:"imageUrl",label:"Image URL",type:"file"}],aboutMe:[{name:"skills",label:"Skills (comma-separated)",type:"text"},{name:"imageUrl",label:"Image URL",type:"file"}],uploadCV:[{name:"cvUrl",label:"CV URL",type:"file"}],socialMediaPlatforms:[{name:"name",label:"Name",type:"text"},{name:"linkUrl",label:"link Url",type:"url"},{name:"imageUrl",label:"Image Url",type:"file"}]},y={services:["Title","Description","Image","Created At","Actions"],projects:["Title","Description","Tech Stack","Image","Created At","Actions"],testimonials:["Name","Title","Feedback","Image","Created At","Actions"],hero:["Description","Image","Created At","Actions"],aboutMe:["Skills","Image","Created At","Actions"],uploadCV:["CV Url","Created At","Actions"],socialMediaPlatforms:["Name","link Url","image","created at","Actions"]},j="\ninline-flex items-center justify-center \npx-4 py-2 text-sm font-medium rounded-md \ntransition-all duration-300 ease-in-out\n",k="\nbg-blue-500 text-white \nhover:bg-blue-600 focus:ring focus:ring-blue-300\n",v="\nbg-gray-100 text-gray-700 \nhover:bg-gray-200 focus:ring focus:ring-gray-300\n";function w(e){let{data:t,category:a}=e,[s,c]=(0,i.useState)(!1),{formData:o,handleInputChange:d,handleFileChange:m,saveItem:p}=h(t,a);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-md",children:["Add New ",a]}),(0,l.jsxs)(r,{isOpen:s,title:"Add New ".concat(a," Item"),onClose:()=>c(!1),children:[(0,l.jsx)(n,{fields:f[a],formData:o,onInputChange:d,onFileChange:m}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)("button",{onClick:()=>{c(!1)},className:"".concat(j," ").concat(v),children:"Cancel"}),(0,l.jsx)("button",{onClick:p,className:"".concat(j," ").concat(k),children:"Save"})]})]})]})}let C=e=>{var t;let{row:a,category:i}=e;return(0,l.jsxs)(l.Fragment,{children:[["socialMediaPlatforms","testimonials"].includes(i)&&(0,l.jsx)("td",{className:" px-6 py-4 text-sm text-gray-600",children:a.name}),["services","projects","testimonials"].includes(i)&&(0,l.jsx)("td",{className:"px-6 py-4 border-b text-sm text-gray-800",children:a.title}),["hero","services","projects"].includes(i)&&(0,l.jsx)("td",{className:" px-6 py-4 text-sm text-gray-600",children:a.description}),["aboutMe","projects"].includes(i)&&(0,l.jsx)("td",{className:" px-6 py-4 text-sm text-gray-600",children:a.skills?a.skills.join(", "):""}),"testimonials"===i&&(0,l.jsx)("td",{className:" px-6 py-4 text-sm text-gray-600",children:a.feedback}),"socialMediaPlatforms"===i&&(0,l.jsx)("td",{className:" px-6 py-4 text-sm text-gray-600",children:a.linkUrl}),"uploadCV"!=i&&(0,l.jsx)("td",{className:"px-6 py-4 border-b",children:(0,l.jsx)("img",{src:a.imageUrl,alt:a.title,className:"w-10 h-10 object-cover rounded-lg text-sm"})}),"uploadCV"===i&&(0,l.jsx)("td",{className:" px-6 py-4 text-sm text-gray-600",children:a.cvUrl}),(0,l.jsx)("td",{className:"px-6 py-4 border-b text-sm text-gray-600",children:new Date((null===(t=a.createdAt)||void 0===t?void 0:t.seconds)*1e3).toLocaleDateString()})]})},N=e=>{let{headers:t,rows:a,renderRow:i}=e;return(0,l.jsxs)("table",{className:" bg-white border border-gray-200 shadow-md rounded-lg",children:[(0,l.jsx)("thead",{className:"bg-gray-100",children:(0,l.jsx)("tr",{children:t.map((e,t)=>(0,l.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-700 border-b",children:e},t))})}),(0,l.jsx)("tbody",{children:a.map((e,t)=>(0,l.jsx)("tr",{className:"hover:bg-gray-50",children:i(e,t)},t))})]})};function U(e){let{data:t,category:a,row:i}=e,{isConfirmingDelete:s,onDeleteConfirmation:n,cancelDelete:c,onDeleteItemInitiator:o,setIsConfirmingDelete:d}=h(t,a);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>{o(i),d(!0)},className:"px-4 py-2 ml-2 text-white bg-red-500 rounded-md",children:"Delete"}),(0,l.jsxs)(r,{isOpen:s,title:"Are you sure?",onClose:c,children:[(0,l.jsx)("p",{children:"Do you really want to delete this item? This action is irriversible."}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)("button",{onClick:c,className:"px-4 py-2 text-white bg-gray-500 rounded-md",children:"Cancel"}),(0,l.jsx)("button",{onClick:n,className:"px-4 py-2 text-white bg-red-500 rounded-md",children:"Confirm"})]})]})]})}function I(e){let{data:t,category:a}=e,[s,c]=(0,i.useState)(!1),{collectionData:o,formData:d,handleInputChange:m,handleFileChange:p,saveItem:u,startEditing:x}=h(t,a),g=y[a]||["Title","Description","Created At"];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N,{headers:g,rows:o,renderRow:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(C,{row:e,category:a}),(0,l.jsxs)("td",{className:"flex mt-3 px-6 py-4",children:[(0,l.jsx)("button",{onClick:()=>{x({...e}),c(!0)},className:"px-4 py-1 text-white bg-blue-500 rounded-md",children:"Edit"}),(0,l.jsx)(U,{data:t,row:e,category:a})]})]})}),(0,l.jsxs)(r,{isOpen:s,title:"Edit ".concat(a),onClose:()=>c(!1),children:[(0,l.jsx)(n,{fields:f[a],formData:d,onInputChange:m,onFileChange:p}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)("button",{onClick:()=>{c(!1)},className:"".concat(j," ").concat(v),children:"Cancel"}),(0,l.jsx)("button",{onClick:u,className:"".concat(j," ").concat(k),children:"Save"})]})]})]})}function A(e){let{data:t,category:a}=e;return(0,l.jsxs)("div",{className:"relative px-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:a}),(0,l.jsx)(w,{data:t,category:a})]}),(0,l.jsx)(I,{data:t,category:a})]})}},189:(e,t,a)=>{a.d(t,{g:()=>r});var l=a(7058),i=a(1203);async function r(e,t){let a=(0,l.rJ)(i.db,e),r=(0,l.P)(a,(0,l.My)("createdAt","desc"),(0,l.AB)(t));try{return{collectionData:(await (0,l.GG)(r)).docs.map(e=>({...e.data(),id:e.id})),error:null}}catch(e){return console.error("Error while fetching data:",e),{collectionData:null,error:e instanceof Error?e.message:String(e)}}}},1203:(e,t,a)=>{a.d(t,{IG:()=>o,db:()=>c,j2:()=>d});var l=a(9904),i=a(333),r=a(7058),s=a(4565);let n=(0,l.Wp)({apiKey:"AIzaSyBQtJb5LA3bir5Hw-52BtavaIo9XwjC6WE",authDomain:"portfolio-d5a6b.firebaseapp.com",databaseURL:"https://portfolio-d5a6b-default-rtdb.firebaseio.com",projectId:"portfolio-d5a6b",storageBucket:"portfolio-d5a6b.appspot.com",messagingSenderId:"408412338668",appId:"1:408412338668:web:2e392f6d4123b27b16e8c9"}),c=(0,r.aU)(n),o=(0,i.c7)(n),d=(0,s.xI)(n);(0,s.oM)(d,s.F0).then(()=>{console.log("Persistence set to local")}).catch(e=>{console.error("Failed to set persistence:",e)})},9519:(e,t,a)=>{a.d(t,{h:()=>l});var l=function(e){return e.hero="hero",e.aboutMe="aboutMe",e.services="services",e.projects="projects",e.testimonials="testimonials",e.contact="contact",e.uploadCV="uploadCV",e.socialMediaPlatforms="socialMediaPlatforms",e}({})}}]);